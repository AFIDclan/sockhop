# Sockhop

Node.js socket server and client with all the painful stuff taken out.  


- Easy wrappers over the tricky parts of net.socket
- Object centric - put a string, object, Widget, whatever into one end and it comes out the other
- Auto reconnect  
- Pass objects directly across the socket
- Ping with auto disconnect/reconnect
- Manages binary Buffers across the wire, reconstructs fragmented JSON Buffers
- Server options for talking to (non Sockhop) other clients

## Example
```javascript

	// Client
	var c=new Sockhop.client({auto_reconnect: true});
	c.on("connect",()=>c.ping(1000)); 	// Ping server every 1000ms, detect problems
	c.on("receive", (obj, metadata)=>console.log("I got a "+metadata.type));

	// Server
	var s=new Sockhop.server();

	// Connect
	s.listen()
	.then(()=>c.connect())
	.then(()=>{

		// Send everyone a Widget
		s.sendall(new Widget());

		// Send everyone something else
		s.sendall({
			"name" : "Joe",
			"age"  : 105
		});

	});


```

## Notes
Sockhop easily passes objects across the wire.  If you pack/transcode JS in a way that mutates class names, this functionality will be broken!  This includes auto ping functionality.

{{>main}}

## License
MIT